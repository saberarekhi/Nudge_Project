{% extends 'layout.html' %}

{% block title %}{{ _('Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø¨Ø±ØªØ±') }}{% endblock %}

{% block content %}
<div class="text-center my-5">
  <h1 class="display-5">ğŸŒŸ {{ _('Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø¨Ø±ØªØ±') }}</h1>
  <p class="lead">{{ _('Ù…Ø´Ø§Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø±ØªØ± Ø¬Ø§Ù…Ø¹Ù‡ Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯.') }}</p>
</div>

{# Ù…Ø§Ú©Ø±ÙˆÛŒ Ú©Ø§Ø±Øª Ú¯Ø²Ø§Ø±Ø´ Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ÛŒ Ø¨Ù„ÙˆÚ© Ù…Ø­ØªÙˆØ§ ÙˆØ§Ø±Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯ #}
{% from 'includes/_report_card.html' import report_card %}

<div class="row g-4">
  <div class="col-12 col-lg-6">
    <h2 class="h4 mb-3 text-center">â¤ï¸ {{ _('Ù…Ø­Ø¨ÙˆØ¨â€ŒØªØ±ÛŒÙ†â€ŒÙ‡Ø§') }}</h2>

    {% if top_liked %}
      <div class="reports-grid">
        {% for report, likes_count in top_liked %}
          <div class="report-card position-relative">
            <span class="position-absolute top-0 start-0 translate-middle badge rounded-pill bg-danger z-1">
              {{ likes_count }} {{ _('Ù„Ø§ÛŒÚ©') }}
            </span>
            {# FIX: Calling the macro instead of including the file #}
            {{ report_card(report, current_user) }}
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="alert alert-info text-center">
        {{ _('Ù‡Ù†ÙˆØ² Ú¯Ø²Ø§Ø±Ø´ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.') }}
      </div>
    {% endif %}
  </div>

  <div class="col-12 col-lg-6">
    <h2 class="h4 mb-3 text-center">ğŸ’¬ {{ _('Ù¾Ø±Ø¨Ø­Ø«â€ŒØªØ±ÛŒÙ†â€ŒÙ‡Ø§') }}</h2>

    {% if top_commented %}
      <div class="reports-grid">
        {% for report, comments_count in top_commented %}
          <div class="report-card position-relative">
            <span class="position-absolute top-0 start-0 translate-middle badge rounded-pill bg-primary z-1">
              {{ comments_count }} {{ _('Ú©Ø§Ù…Ù†Øª') }}
            </span>
            {# FIX: Calling the macro instead of including the file #}
            {{ report_card(report, current_user) }}
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="alert alert-info text-center">
        {{ _('Ù‡Ù†ÙˆØ² Ú¯Ø²Ø§Ø±Ø´ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.') }}
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}